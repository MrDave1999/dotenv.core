<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Started with dotenv.core | DotEnv.Core </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Started with dotenv.core | DotEnv.Core ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../images/dotenv-icon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="getting-started-with-dotenvcore">Getting Started with <code>dotenv.core</code></h1>

<h2 id="installation">Installation</h2>
<p>If you're want to install the package from Visual Studio, you must open the project/solution in Visual Studio, and open the console using the <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong> command and run the install command:</p>
<pre><code>Install-Package DotEnv.Core
</code></pre>
<p>If you are making use of the dotnet CLI, then run the following in your terminal:</p>
<pre><code>dotnet add package DotEnv.Core
</code></pre>
<h2 id="usage">Usage</h2>
<p>The first thing you need to do is create a <code>.env</code> file in the root directory of your project.</p>
<h3 id="loading-env-file">Loading .env file</h3>
<p>You must import the namespace types at the beginning of your class file:</p>
<pre><code class="lang-cs">using DotEnv.Core;
</code></pre>
<p>Then you can load the .env file with the <code>Load</code> method of the <code>EnvLoader</code> class:</p>
<pre><code class="lang-cs">new EnvLoader().Load();
</code></pre>
<p>By default, the <code>Load</code> method will search for a file called <code>.env</code> in the current directory and if it does not find it, it will search for it in the parent directories of the current directory. Generally, the current directory is where the executable (your application itself) with its dependencies is located.</p>
<p>Remember that if no encoding is specified to the <code>Load</code> method, the default will be <code>UTF-8</code>. Also, by default, the <code>Load</code> method does not overwrite the value of an existing environment variable.</p>
<h3 id="accessing-variables">Accessing variables</h3>
<p>After you have loaded the .env file with the <code>Load</code> method, you can access the environment variables using the indexer of the <code>EnvReader</code> class:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
string key1 = reader[&quot;KEY1&quot;];
string key2 = reader[&quot;KEY2&quot;];
</code></pre>
<p>Or you can also access the environment variables using the static property <code>Instance</code>:</p>
<pre><code class="lang-cs">string key1 = EnvReader.Instance[&quot;KEY1&quot;];
string key2 = EnvReader.Instance[&quot;KEY2&quot;];
</code></pre>
<p>If you don't want to use the <code>EnvReader</code> class to access environment variables, you can use the <code>System.Environment</code> class:</p>
<pre><code class="lang-cs">string key1 = System.Environment.GetEnvironmentVariable(&quot;KEY1&quot;);
string key2 = System.Environment.GetEnvironmentVariable(&quot;KEY2&quot;);
</code></pre>
<h3 id="changing-default-name">Changing default name</h3>
<p>You can also change the default name of the .env file using the <code>SetDefaultEnvFileName</code> method:</p>
<pre><code class="lang-cs">new EnvLoader()
    .SetDefaultEnvFileName(&quot;.env.dev&quot;)
    .Load();
</code></pre>
<p>Now the <code>Load</code> method will search for the <strong>.env.dev</strong> file in the current directory and in the parent directories if it is not found in the current directory.</p>
<p>Another case would be:</p>
<pre><code class="lang-cs">new EnvLoader()
    .SetDefaultEnvFileName(&quot;.env.dev&quot;)
    .AddEnvFiles(&quot;/foo/foo2&quot;, &quot;/bar/bar2&quot;)
    .Load();
</code></pre>
<p>The <code>Load</code> method will search for two <code>.env.dev</code> files in the paths <code>/foo/foo2</code> and <code>/bar/bar2</code>.</p>
<h3 id="specifying-path-absolute">Specifying path absolute</h3>
<p>You can also specify the absolute path to the .env file:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFile(&quot;/home/MyProject/App/src/.env.dev&quot;)
    .Load();
</code></pre>
<p>In this case the <code>Load</code> method will search for the <code>.env.dev</code> file in the path <code>/home/MyProject/App/src/</code>, if it does not find it, the method will search for the <code>.env.dev</code> file in the parent directories. In other words, the <code>Load</code> method will search for the file in the parent directories of <code>src</code> such as: <code>App</code>, <code>MyProject</code>, <code>home</code>.</p>
<p>It is recommended not to use absolute paths, instead use relative paths. Remember that an absolute path can be different in each operating system, so your application could lose portability.</p>
<h3 id="loading-multiple-env-files">Loading multiple .env files</h3>
<p>You can also load multiple .env files in a single call:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFiles(&quot;env.example&quot;, &quot;env.example2&quot;)
    .Load();
</code></pre>
<p>Or you can use the <code>AddEnvFile</code> method:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFile(&quot;env.example&quot;)
    .AddEnvFile(&quot;env.example2&quot;)
    .Load();
</code></pre>
<p>If you need to specify an encoding type for all .env files, you can do it like this:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFiles(&quot;env.example&quot;, &quot;env.example2&quot;)
    .SetEncoding(Encoding.Unicode) // Or you can also use: SetEncoding(&quot;Unicode&quot;)
    .Load();
</code></pre>
<p>You can also specify an encoding type for each .env file using the <code>AddEnvFile</code> method:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFile(&quot;env.example&quot;,  Encoding.Unicode)
    .AddEnvFile(&quot;env.example2&quot;, Encoding.ASCII)
    .AddEnvFile(&quot;env.example3&quot;, &quot;Unicode&quot;)
    .AddEnvFile(&quot;env.example4&quot;, &quot;ASCII&quot;)
    .Load();
</code></pre>
<h3 id="optional-env-files">Optional .env files</h3>
<p>You can indicate that the existence of an .env file is optional by means of the <code>AddEnvFile</code> method:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFile(&quot;.env.example&quot;, optional: true)
    .Load();
</code></pre>
<p>At the end the <code>Load</code> method will not generate any error in case the <code>.env.example</code> file is not in a directory, since it is optional.</p>
<p>You can also mark all .env files as optional using the <code>AllowAllEnvFilesOptional</code> method:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFile(&quot;.env.example1&quot;) 
    .AddEnvFile(&quot;.env.example2&quot;) 
    .AddEnvFile(&quot;.env.example3&quot;)
    .AllowAllEnvFilesOptional()
    .Load();
</code></pre>
<h3 id="specifying-path-relative">Specifying path relative</h3>
<p>You can also specify a relative path using the <code>AddEnvFile</code> method:</p>
<pre><code class="lang-cs">new EnvLoader()
    .AddEnvFile(&quot;./dotenv/files&quot;)
    .Load();
</code></pre>
<p>In this case, the <code>.env</code> file is inside a directory, i.e. in <code>files</code>. The <code>Load</code> method will search for the file <code>dotenv/files/.env</code> in the current directory, if it does not find it, it will search for it in parent directories.</p>
<p>This is useful when the .env file is located in a different directory than the current one.</p>
<h3 id="specifying-base-path">Specifying base path</h3>
<p>You can specify one base path for all .env files:</p>
<pre><code class="lang-cs">new EnvLoader()
    .SetBasePath(&quot;./dotenv/files&quot;)
    .AddEnvFiles(&quot;.env.example&quot;, &quot;.env.example2&quot;)
    .Load();
</code></pre>
<p>In this case, the <strong>Base Path</strong> is a relative path, so the <code>.env.example</code> and <code>.env.example2</code> files are inside <code>dotenv/files</code>.</p>
<h3 id="error-handling">Error handling</h3>
<p>By default, the <code>Load</code> method does not throw any exception if it does not found the .env file but you can change this behavior if you use the <code>EnableFileNotFoundException</code> method:</p>
<pre><code class="lang-cs">try 
{
    new EnvLoader()
        .EnableFileNotFoundException()
        .Load();
}
catch(FileNotFoundException ex)
{
    System.Console.WriteLine(ex.Message);
}
</code></pre>
<p>You can handle the error without throwing an exception by means of the <code>EnvValidationResult</code> class:</p>
<pre><code class="lang-cs">new EnvLoader()
    .IgnoreParserException() // To ignore the exception thrown by the parser.
    .Load(out EnvValidationResult result);

if(result.HasError())
{
    string msg = result.ErrorMessages;
    System.Console.WriteLine(msg);
    // or you can also iterate over the errors:
    foreach(string errorMsg in result)
        System.Console.WriteLine(errorMsg); 
}
else 
{
    // Execute some action when there is no error.
}
</code></pre>
<p><strong>Note:</strong> If you don't know what each class does, don't forget to check the <a class="xref" href="../api/DotEnv.Core.html">API documentation</a>.</p>
<h2 id="copying-env-file-to-the-output-directory">Copying .env file to the output directory</h2>
<p>If you want to copy the .env file to the output directory, you have to add the following to your .csproj file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Content Include=&quot;.env&quot;&gt;
    &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;
  &lt;/Content&gt;
&lt;/ItemGroup&gt;
</code></pre>
<p><strong>NOTE:</strong> Your .env file must be in the same directory as the .csproj file.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MrDave1999/dotenv.core/blob/master/docs/articles/getting_started.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright 2021-2022 <b>DotEnv.Core</b>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
