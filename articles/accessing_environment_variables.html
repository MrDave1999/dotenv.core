<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Accessing environment variables | DotEnv.Core </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Accessing environment variables | DotEnv.Core ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../images/dotenv-icon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="accessing-environment-variables">Accessing environment variables</h1>

<h2 id="helper-methods">Helper methods</h2>
<p>The <code>EnvReader</code> class has multiple <strong>helper methods</strong> that are used to access the environment variables of a specific provider.</p>
<h3 id="gettypevalue">Get{Type}Value</h3>
<p>The helper methods that begin with the word <em>Get</em> will throw an exception when the environment variable is not set:</p>
<pre><code class="lang-cs">GetStringValue
GetIntValue
GetLongValue
GetFloatValue
// And so on...
</code></pre>
<p>For example:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
try
{
    string key = reader[&quot;KEY&quot;];
    string key1 = reader.GetStringValue(&quot;KEY1&quot;);
    int key2 = reader.GetIntValue(&quot;KEY2&quot;);
    long key3 = reader.GetLongValue(&quot;KEY3&quot;);
    float key4 = reader.GetFloatValue(&quot;KEY4&quot;);
}
catch(VariableNotSetException ex)
{
    System.Console.WriteLine(ex.Message);
}
</code></pre>
<p>Don't forget to consult the <a class="xref" href="../api/DotEnv.Core.EnvReader.GetBoolValue.html#DotEnv_Core_EnvReader_GetBoolValue_System_String_">API documentation</a> for more helper methods starting with the word <em>Get</em>.</p>
<h3 id="trygettypevalue">TryGet{Type}Value</h3>
<p>The helper methods that begin with the word <em>Try</em> do not throw an exception, but return a <code>false</code> value when the environment variable is not set:</p>
<pre><code class="lang-cs">TryGetStringValue
TryGetIntValue
TryGetLongValue
TryGetFloatValue
// And so on...
</code></pre>
<p>For example:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
if(reader.TryGetStringValue(&quot;KEY1&quot;, out string value1))
{
    System.Console.WriteLine(value1);
}
else 
{
    System.Console.WriteLine(&quot;Variable not found!&quot;);
}

if(reader.TryGetIntValue(&quot;KEY2&quot;, out int value2))
{
    System.Console.WriteLine(value2);
}
else 
{
    System.Console.WriteLine(&quot;Variable not found!&quot;);
}
</code></pre>
<p>Don't forget to consult the <a class="xref" href="../api/DotEnv.Core.EnvReader.TryGetBoolValue.html#DotEnv_Core_EnvReader_TryGetBoolValue_System_String_System_Boolean__">API documentation</a> for more helper methods starting with the word <em>Try</em>.</p>
<h3 id="envtype">Env{Type}</h3>
<p>The helper methods that begin with the word <em>Env</em> return a default value when the environment variable is not set:</p>
<pre><code class="lang-cs">EnvString
EnvInt
EnvLong
EnvFloat
// And so on...
</code></pre>
<p>For example:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
string key1 = reader.EnvString(&quot;KEY1&quot;, &quot;Variable Not Found!&quot;);
int key2 = reader.EnvInt(&quot;KEY2&quot;, -1);
long key3 = reader.EnvLong(&quot;KEY3&quot;, -1);
float key4 = reader.EnvFloat(&quot;KEY4&quot;, -1.0F);
</code></pre>
<p>Then, if for example, the variable <code>KEY1</code> is not set, then the method returns <code>Variable Not Found!</code> (default value).</p>
<p>The second parameter is optional:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
// Default value: null.
string key1 = reader.EnvString(&quot;KEY1&quot;);
// Default value: 0.
int key2 = reader.EnvInt(&quot;KEY2&quot;);
// Default value: 0.
long key3 = reader.EnvLong(&quot;KEY3&quot;);
// Default value: 0.0
float key4 = reader.EnvFloat(&quot;KEY4&quot;);
</code></pre>
<p>Here for example, if <code>KEY1</code> is not set, the method returns <code>null</code> (default value).</p>
<p>Don't forget to consult the <a class="xref" href="../api/DotEnv.Core.EnvReader.EnvBool.html#DotEnv_Core_EnvReader_EnvBool_System_String_System_Boolean_">API documentation</a> for more helper methods starting with the word <em>Env</em>.</p>
<h3 id="hasvalue">HasValue</h3>
<p>You can use this method to check if an environment variable has a value:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
Console.WriteLine(reader.HasValue(&quot;VARIABLE_NAME&quot;)); 
Console.WriteLine(EnvReader.Instance.HasValue(&quot;VARIABLE_NAME&quot;));
</code></pre>
<p>In fact, if you look at the source code of this method, what it actually does is to check if the variable is in a specific provider (it could be the environment of the current process or a simple dictionary).</p>
<h2 id="customize-envreader">Customize EnvReader</h2>
<p>You can also create a class that inherits from the <code>EnvReader</code> class and can add new methods or override existing methods:</p>
<pre><code class="lang-cs">class CustomEnvReader : EnvReader
{
    public CustomEnvReader() { }
    public CustomEnvReader(IEnvironmentVariablesProvider provider) : base(provider) { }

    public override string GetStringValue(string variable)
    {
        // Here you can write your own implementation.
    }

    public override bool TryGetStringValue(string variable, out string value)
    {
        // Here you can write your own implementation.
    }

    public override string EnvString(string variable, string defaultValue = default)
    {
        // Here you can write your own implementation.
    }

    // And so on...
}
</code></pre>
<h2 id="iterate">Iterate</h2>
<p>You can also access all environment variables using the iterator:</p>
<pre><code class="lang-cs">var reader = new EnvReader();
foreach(string(key, value) in reader)
    System.Console.WriteLine($&quot;{key}, {value}&quot;);
</code></pre>
<h2 id="injecting-a-provider">Injecting a Provider</h2>
<p>The <code>EnvReader</code> class has no relationship to the environment variables provider. So you can use the methods of this class to access environment variables, regardless of whether the variables are in the environment of the current process or in a <code>dictionary&lt;string, string&gt;</code>.</p>
<p>Example:</p>
<pre><code class="lang-cs">var envVars = new EnvLoader()
        .AvoidModifyEnvironment()
        .Load();

var reader = new EnvReader(provider: envVars);
// We access from a dictionary instead of the current environment.
string key1 = reader[&quot;KEY1&quot;]; 
</code></pre>
<p>In the previous example we load the .env file without altering the environment, so the environment variables are in a dictionary.</p>
<p>Later, we inject the instance of type <code>IEnvironmentVariablesProvider</code> that returns the <code>Load</code> method in the constructor of the <code>EnvReader</code> class, this way we can access the environment variables from a dictionary.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MrDave1999/dotenv.core/blob/master/docs/articles/accessing_environment_variables.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright 2021-2022 <b>DotEnv.Core</b>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
